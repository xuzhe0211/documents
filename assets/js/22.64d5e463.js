(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{393:function(t,a,p){"use strict";p.r(a);var n=p(42),s=Object(n.a)({},(function(){var t=this,a=t.$createElement,p=t._self._c||a;return p("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[p("h2",{attrs:{id:"简介"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),p("p",[t._v("pnpm是一种新起的包管理器，从npm下载量看，目前还没有超过yarn，但它的实现方式值得主流包管理器学习")]),t._v(" "),p("div",{staticClass:"custom-block tip"},[p("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),p("ol",[p("li",[t._v("目前，安装效率高于npm和yarn的最新版")]),t._v(" "),p("li",[t._v("极其简介的node_modules目录")]),t._v(" "),p("li",[t._v("避免了开发时使用简介依赖的问题")]),t._v(" "),p("li",[t._v("能极大的降低磁盘空间的占用")])])]),t._v(" "),p("h2",{attrs:{id:"安装和使用"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#安装和使用"}},[t._v("#")]),t._v(" 安装和使用")]),t._v(" "),p("div",{staticClass:"language- extra-class"},[p("pre",{pre:!0,attrs:{class:"language-text"}},[p("code",[t._v("npm install -g pnpm\n")])])]),p("p",[t._v("之后在使用时，只需要把npm替换成pnpm即可。")]),t._v(" "),p("p",[t._v("如果要执行安装在本地的CLI,可以使用pnpx，它和npx的功能完全一样，唯一不同的是，在使用pnpx执行一个需要安装的命令时，会使用pnpm进行安装。")]),t._v(" "),p("p",[t._v("比如npx mocha执行本地mocha命令时，如果mocha没有安装，则npx会自动的、临时的安装mocha，安装好后，自动运行mocha命令")]),t._v(" "),p("h2",{attrs:{id:"pnpm原理"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#pnpm原理"}},[t._v("#")]),t._v(" pnpm原理")]),t._v(" "),p("ol",[p("li",[p("p",[t._v("同 yarn 和 npm 一样，pnpm 仍然使用缓存来保存已经安装过的包，以及使用 pnpm-lock.yaml 来记录详细的依赖版本。")])]),t._v(" "),p("li",[p("p",[t._v("不同于 yarn 和 npm， pnpm 使用"),p("strong",[t._v("符号链接和硬链接")]),t._v("（可将它们想象成快捷方式）的做法来放置依赖，从而规避了从缓存中拷贝文件的时间，使得安装和卸载的速度更快。")])]),t._v(" "),p("li",[p("p",[t._v("由于使用了"),p("strong",[t._v("符号链接和硬链接")]),t._v("，pnpm可以规避windows操作系统路径过长的问题，因此，它选择使用树形的依赖结果，有着几乎完美的依赖管理。也因为如此，项目中只能使用直接依赖，而不能使用间接依赖。")])])]),t._v(" "),p("h2",{attrs:{id:"注意事项"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[t._v("#")]),t._v(" 注意事项")]),t._v(" "),p("p",[t._v("由于 pnpm 会改动 node_modules 目录结构，使得每个包只能使用直接依赖，而不能使用间接依赖，因此，如果使用 pnpm 安装的包中包含间接依赖，则会出现问题("),p("strong",[t._v("现在不会了，除非使用了绝对路径")]),t._v(")。")]),t._v(" "),p("p",[t._v("由于 pnpm 超高的安装卸载效率，越来越多的包开始修正之前的间接依赖代码。")])])}),[],!1,null,null,null);a.default=s.exports}}]);