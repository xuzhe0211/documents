<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>路径path | 随风</title>
    <meta name="generator" content="VuePress 1.7.0">
    <link rel="apple-touch-icon" href="/documents/apple-touch-icon.png">
    <link rel="icon" href="/documents/favicon.ico">
    <link rel="manifest" href="/documents/manifest.json">
    <meta name="description" content="随风随雨又随流">
    <meta name="theme-color" content="#ffffff">
    <meta name="google-site-verification" content="Ld_AEWr30siza2LmmZ12csitRGsSj9gqqEAch0UXkTc">
    
    <link rel="preload" href="/documents/assets/css/0.styles.061186d0.css" as="style"><link rel="preload" href="/documents/assets/js/app.c707dd89.js" as="script"><link rel="preload" href="/documents/assets/js/2.3c62c32c.js" as="script"><link rel="preload" href="/documents/assets/js/21.640a6f3a.js" as="script"><link rel="prefetch" href="/documents/assets/js/10.69e99cad.js"><link rel="prefetch" href="/documents/assets/js/11.8fbb9784.js"><link rel="prefetch" href="/documents/assets/js/12.af316f6b.js"><link rel="prefetch" href="/documents/assets/js/13.8acb8718.js"><link rel="prefetch" href="/documents/assets/js/14.aa98616d.js"><link rel="prefetch" href="/documents/assets/js/15.2104e116.js"><link rel="prefetch" href="/documents/assets/js/16.f872625d.js"><link rel="prefetch" href="/documents/assets/js/17.ba745fa0.js"><link rel="prefetch" href="/documents/assets/js/18.51697a59.js"><link rel="prefetch" href="/documents/assets/js/19.35ff6f52.js"><link rel="prefetch" href="/documents/assets/js/20.37ea7475.js"><link rel="prefetch" href="/documents/assets/js/22.64d5e463.js"><link rel="prefetch" href="/documents/assets/js/23.81360713.js"><link rel="prefetch" href="/documents/assets/js/24.2e39871a.js"><link rel="prefetch" href="/documents/assets/js/25.067a6c74.js"><link rel="prefetch" href="/documents/assets/js/26.c948c8e8.js"><link rel="prefetch" href="/documents/assets/js/27.0172c73a.js"><link rel="prefetch" href="/documents/assets/js/28.5de342bb.js"><link rel="prefetch" href="/documents/assets/js/29.c25a7247.js"><link rel="prefetch" href="/documents/assets/js/3.c7fe7f92.js"><link rel="prefetch" href="/documents/assets/js/30.ade90ad4.js"><link rel="prefetch" href="/documents/assets/js/31.51548b2b.js"><link rel="prefetch" href="/documents/assets/js/32.7ae35906.js"><link rel="prefetch" href="/documents/assets/js/33.a2eedc65.js"><link rel="prefetch" href="/documents/assets/js/34.a1f44fcf.js"><link rel="prefetch" href="/documents/assets/js/35.83a76c5e.js"><link rel="prefetch" href="/documents/assets/js/36.7e32c612.js"><link rel="prefetch" href="/documents/assets/js/37.d3dea4df.js"><link rel="prefetch" href="/documents/assets/js/38.5b7974ad.js"><link rel="prefetch" href="/documents/assets/js/39.de5105d8.js"><link rel="prefetch" href="/documents/assets/js/4.e2d1f35b.js"><link rel="prefetch" href="/documents/assets/js/40.8aefc0a5.js"><link rel="prefetch" href="/documents/assets/js/41.5c837005.js"><link rel="prefetch" href="/documents/assets/js/42.b00cda00.js"><link rel="prefetch" href="/documents/assets/js/43.0496a7bb.js"><link rel="prefetch" href="/documents/assets/js/44.d4da3abc.js"><link rel="prefetch" href="/documents/assets/js/45.103bfc3d.js"><link rel="prefetch" href="/documents/assets/js/46.a9e570c2.js"><link rel="prefetch" href="/documents/assets/js/47.34ceda5f.js"><link rel="prefetch" href="/documents/assets/js/48.c13eede0.js"><link rel="prefetch" href="/documents/assets/js/49.d8be950d.js"><link rel="prefetch" href="/documents/assets/js/5.90a7d0ce.js"><link rel="prefetch" href="/documents/assets/js/50.c1a7ffc5.js"><link rel="prefetch" href="/documents/assets/js/51.36bed2d5.js"><link rel="prefetch" href="/documents/assets/js/52.4b402bc0.js"><link rel="prefetch" href="/documents/assets/js/53.40339bbf.js"><link rel="prefetch" href="/documents/assets/js/54.bb09090d.js"><link rel="prefetch" href="/documents/assets/js/55.1be86dcd.js"><link rel="prefetch" href="/documents/assets/js/56.f9897b08.js"><link rel="prefetch" href="/documents/assets/js/57.90e90dce.js"><link rel="prefetch" href="/documents/assets/js/58.60a63e8d.js"><link rel="prefetch" href="/documents/assets/js/59.2ec6ca9f.js"><link rel="prefetch" href="/documents/assets/js/6.e2fac099.js"><link rel="prefetch" href="/documents/assets/js/60.6e398555.js"><link rel="prefetch" href="/documents/assets/js/61.51e7f6a5.js"><link rel="prefetch" href="/documents/assets/js/62.27907374.js"><link rel="prefetch" href="/documents/assets/js/63.8e7580d7.js"><link rel="prefetch" href="/documents/assets/js/64.e973d499.js"><link rel="prefetch" href="/documents/assets/js/65.f8485304.js"><link rel="prefetch" href="/documents/assets/js/66.f8c086b3.js"><link rel="prefetch" href="/documents/assets/js/67.bce45500.js"><link rel="prefetch" href="/documents/assets/js/68.64946ebc.js"><link rel="prefetch" href="/documents/assets/js/69.1dc4be67.js"><link rel="prefetch" href="/documents/assets/js/7.69cf438d.js"><link rel="prefetch" href="/documents/assets/js/70.0ff84dd2.js"><link rel="prefetch" href="/documents/assets/js/71.3fd48685.js"><link rel="prefetch" href="/documents/assets/js/72.9e715534.js"><link rel="prefetch" href="/documents/assets/js/73.e4dfdd52.js"><link rel="prefetch" href="/documents/assets/js/74.cf446ebe.js"><link rel="prefetch" href="/documents/assets/js/75.9f990d7e.js"><link rel="prefetch" href="/documents/assets/js/76.74313612.js"><link rel="prefetch" href="/documents/assets/js/77.7f838d05.js"><link rel="prefetch" href="/documents/assets/js/78.c17c2b93.js"><link rel="prefetch" href="/documents/assets/js/79.4c148acb.js"><link rel="prefetch" href="/documents/assets/js/8.9beca52e.js"><link rel="prefetch" href="/documents/assets/js/80.318549bf.js"><link rel="prefetch" href="/documents/assets/js/81.bfd5153e.js"><link rel="prefetch" href="/documents/assets/js/82.4878e630.js"><link rel="prefetch" href="/documents/assets/js/83.18adcc4a.js"><link rel="prefetch" href="/documents/assets/js/84.bd95cafa.js"><link rel="prefetch" href="/documents/assets/js/85.875809b6.js"><link rel="prefetch" href="/documents/assets/js/86.2033664c.js"><link rel="prefetch" href="/documents/assets/js/87.0e86ff75.js"><link rel="prefetch" href="/documents/assets/js/88.3deaf402.js"><link rel="prefetch" href="/documents/assets/js/89.1471fd1b.js"><link rel="prefetch" href="/documents/assets/js/9.f166463c.js"><link rel="prefetch" href="/documents/assets/js/90.ff07776f.js">
    <link rel="stylesheet" href="/documents/assets/css/0.styles.061186d0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/documents/" class="home-link router-link-active"><!----> <span class="site-name">随风</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/documents/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/documents/source-study/" class="nav-link">
  课程学习
</a></div><div class="nav-item"><a href="/documents/source-vue/" class="nav-link">
  Vue源码
</a></div><div class="nav-item"><a href="/documents/source-react/" class="nav-link">
  React
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End Menu" class="dropdown-title"><span class="title">Front End</span> <span class="arrow down"></span></button> <button type="button" aria-label="Front End Menu" class="mobile-dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/front-end/Html/" class="nav-link">
  HTML-DOM
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Frame/" class="nav-link">
  框架
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Code/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Engineering/" class="nav-link">
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Interview/" class="nav-link">
  前端面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="back End Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="back End Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/back-end/Node/" class="nav-link router-link-active">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/documents/back-end/Docker/" class="nav-link">
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="tools End Menu" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="tools End Menu" class="mobile-dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/tools/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/documents/tools/VScode/" class="nav-link">
  VScode
</a></li><li class="dropdown-item"><!----> <a href="/documents/tools/Other/" class="nav-link">
  工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="wander End Menu" class="dropdown-title"><span class="title">随记</span> <span class="arrow down"></span></button> <button type="button" aria-label="wander End Menu" class="mobile-dropdown-title"><span class="title">随记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/wander/Work/" class="nav-link">
  工作
</a></li><li class="dropdown-item"><!----> <a href="/documents/wander/Life/" class="nav-link">
  生活
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/documents/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/documents/source-study/" class="nav-link">
  课程学习
</a></div><div class="nav-item"><a href="/documents/source-vue/" class="nav-link">
  Vue源码
</a></div><div class="nav-item"><a href="/documents/source-react/" class="nav-link">
  React
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End Menu" class="dropdown-title"><span class="title">Front End</span> <span class="arrow down"></span></button> <button type="button" aria-label="Front End Menu" class="mobile-dropdown-title"><span class="title">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/front-end/Html/" class="nav-link">
  HTML-DOM
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/JavaScript/" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Frame/" class="nav-link">
  框架
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Code/" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Engineering/" class="nav-link">
  工程化
</a></li><li class="dropdown-item"><!----> <a href="/documents/front-end/Interview/" class="nav-link">
  前端面试题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="back End Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="back End Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/back-end/Node/" class="nav-link router-link-active">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/documents/back-end/Docker/" class="nav-link">
  Docker
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="tools End Menu" class="dropdown-title"><span class="title">开发工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="tools End Menu" class="mobile-dropdown-title"><span class="title">开发工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/tools/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/documents/tools/VScode/" class="nav-link">
  VScode
</a></li><li class="dropdown-item"><!----> <a href="/documents/tools/Other/" class="nav-link">
  工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="wander End Menu" class="dropdown-title"><span class="title">随记</span> <span class="arrow down"></span></button> <button type="button" aria-label="wander End Menu" class="mobile-dropdown-title"><span class="title">随记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/documents/wander/Work/" class="nav-link">
  工作
</a></li><li class="dropdown-item"><!----> <a href="/documents/wander/Life/" class="nav-link">
  生活
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Node</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/documents/back-end/Node/" aria-current="page" class="sidebar-link">首页</a></li><li><a href="/documents/back-end/Node/expect.html" class="sidebar-link">expect spawn、linux expect 用法</a></li><li><a href="/documents/back-end/Node/npx.html" class="sidebar-link">NPX</a></li><li><a href="/documents/back-end/Node/path.html" aria-current="page" class="active sidebar-link">路径path</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documents/back-end/Node/path.html#介绍" class="sidebar-link">介绍</a></li><li class="sidebar-sub-header"><a href="/documents/back-end/Node/path.html#示例" class="sidebar-link">示例</a></li></ul></li><li><a href="/documents/back-end/Node/pnpm.html" class="sidebar-link">pnpm</a></li><li><a href="/documents/back-end/Node/progress.html" class="sidebar-link">Nodejs进程间通信</a></li><li><a href="/documents/back-end/Node/promisify.html" class="sidebar-link">promisify函数</a></li><li><a href="/documents/back-end/Node/verdaccio.html" class="sidebar-link">利用verdaccio部署私有npm</a></li><li><a href="/documents/back-end/Node/yarn.html" class="sidebar-link">Yarn</a></li><li><a href="/documents/back-end/Node/ztool.html" class="sidebar-link">工具</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h2> <p><a href="https://nodejs.org/dist/latest-v14.x/docs/api/path.html" target="_blank" rel="noopener noreferrer">path<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> (opens new window)是 node 提供的处理文件和目录路径的工具。</p> <div class="language- extra-class"><pre class="language-text"><code>const path = require(&quot;path&quot;);
</code></pre></div><h2 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h2> <div class="language- extra-class"><pre class="language-text"><code>const path = require(&quot;path&quot;);
const pick = require(&quot;lodash.pick&quot;);

const paths = {
  dir: &quot;dir1/dir2/dir3&quot;,
  abDir: &quot;/dir1/dir2/dir3&quot;,
  abDirSlash: &quot;/dir1/dir2/dir3/&quot;,
  file: &quot;dir1/dir2/dir3/file.js&quot;,
  oFile: &quot;file.js&quot;,
  mExtFile: &quot;dir1/dir2/dir3/file.spec.js&quot;,
  abFile: &quot;/dir1/dir2/dir3/file.js&quot;,
};

const segPath = {
  nPath: [&quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;],
  abSPath: [&quot;/aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot;],
  abIPath: [&quot;aaa&quot;, &quot;/bbb&quot;, &quot;ccc&quot;],
  bPath: [&quot;aaa&quot;, &quot;/bbb&quot;, &quot;..&quot;, &quot;ccc&quot;],
  b2Path: [&quot;aaa&quot;, &quot;../..&quot;, &quot;ccc&quot;],
  mPath:  [&quot;foo&quot;, &quot;/nnn/&quot;, &quot;foo//&quot;, &quot;bar/baz&quot;, &quot;..&quot;, &quot;aaa&quot;],
};

// basename 返回 path 的最后一部分
describe(&quot;basename should return the last portion of a path&quot;, () =&gt; {
  test(&quot;dir should return dir3&quot;, () =&gt; {
    const p = paths.dir;

    expect(path.basename(p)).toBe(&quot;dir3&quot;);
  });
  
  test(&quot;abDir should return dir3&quot;, () =&gt; {
    const p = paths.abDir;

    expect(path.basename(p)).toBe(&quot;dir3&quot;);
  });

  test(&quot;abDirSlash should return dir3&quot;, () =&gt; {
    const p = paths.abDirSlash;

    expect(path.basename(p)).toBe(&quot;dir3&quot;);
  });

  test(&quot;file should return file.js&quot;, () =&gt; {
    const p = paths.file;

    expect(path.basename(p)).toBe(&quot;file.js&quot;);
  });

  test(&quot;oFile should return file.js&quot;, () =&gt; {
    const p = paths.oFile;

    expect(path.basename(p)).toBe(&quot;file.js&quot;);
  });

  test(&quot;mExtFile should return file.spec.js&quot;, () =&gt; {
    const p = paths.mExtFile;

    expect(path.basename(p)).toBe(&quot;file.spec.js&quot;);
  });

  test(&quot;abFile should return file.js&quot;, () =&gt; {
    const p = paths.abFile;

    expect(path.basename(p)).toBe(&quot;file.js&quot;);
  });

  test(&quot;(unmatch ext param)file should return file.js&quot;, () =&gt; {
    const p = paths.file;

    expect(path.basename(p, &quot;.html&quot;)).toBe(&quot;file.js&quot;);
  });

  test(&quot;(match ext param)file should return file&quot;, () =&gt; {
    const p = paths.file;

    expect(path.basename(p, &quot;.js&quot;)).toBe(&quot;file&quot;);
  });

  test(&quot;(unmatch ext param)abFile should return file.js&quot;, () =&gt; {
    const p = paths.abFile;

    expect(path.basename(p, &quot;.html&quot;)).toBe(&quot;file.js&quot;);
  });

  test(&quot;(match ext param)abFile should return file&quot;, () =&gt; {
    const p = paths.abFile;

    expect(path.basename(p, &quot;.js&quot;)).toBe(&quot;file&quot;);
  });
});

// delimiter 返回平台特定的路径界定符
describe(&quot;delimiter should return the platform-specific path delimiter&quot;, () =&gt; {
  const paths = {
    &quot;:&quot;: &quot;/usr/bin:/bin&quot;,
    &quot;;&quot;: &quot;C:\Windows\system32;C:\Windows&quot;
  }

  test(&quot;should return correct array&quot;, () =&gt; {
    const p = paths[path.delimiter]

    if (path.delimiter === &quot;:&quot;) {
      expect(p.split(path.delimiter)).toStrictEqual([&quot;/usr/bin&quot;, &quot;/bin&quot;]);
    }
    if (path.delimiter === &quot;;&quot;) {
      expect(p.split(path.delimiter)).toStrictEqual([&quot;C:\\Windows\\system32&quot;, &quot;C:\\Windows&quot;]);
    }
  });
});

// dirname 返回目录名
describe(&quot;dirname should return the directory of a path&quot;, () =&gt; {
  test(&quot;dir should return dir1/dir2&quot;, () =&gt; {
    const p = paths.dir;

    expect(path.dirname(p)).toBe(&quot;dir1/dir2&quot;);
  });

  test(&quot;abDir should return /dir1/dir2&quot;, () =&gt; {
    const p = paths.abDir;

    expect(path.dirname(p)).toBe(&quot;/dir1/dir2&quot;);
  });

  test(&quot;abDirSlash should return /dir1/dir2&quot;, () =&gt; {
    const p = paths.abDirSlash;

    expect(path.dirname(p)).toBe(&quot;/dir1/dir2&quot;);
  });

  test(&quot;file should return dir1/dir2/dir3&quot;, () =&gt; {
    const p = paths.file;

    expect(path.dirname(p)).toBe(&quot;dir1/dir2/dir3&quot;);
  });

  test(&quot;oFile should return .&quot;, () =&gt; {
    const p = paths.oFile;

    expect(path.dirname(p)).toBe(&quot;.&quot;);
  });

  test(&quot;mExtFile should return dir1/dir2/dir3&quot;, () =&gt; {
    const p = paths.mExtFile;

    expect(path.dirname(p)).toBe(&quot;dir1/dir2/dir3&quot;);
  });

  test(&quot;abFile should return /dir1/dir2/dir3&quot;, () =&gt; {
    const p = paths.abFile;

    expect(path.dirname(p)).toBe(&quot;/dir1/dir2/dir3&quot;);
  });
});

// extname 返回扩展名
describe(&quot;extname should return the extension of a path&quot;, () =&gt; {
  const extPaths = {
    ...paths,
    oMExtFile: &quot;index.coffee.md&quot;,
    unExtFile: &quot;index.&quot;,
    oFileName: &quot;index&quot;,
    oExt: &quot;.index&quot;,
    oMExt: &quot;.index.md&quot;
  }

  test(&quot;dir should return empty string&quot;, () =&gt; {
    const p = extPaths.dir;

    expect(path.extname(p)).toBe(&quot;&quot;);
  });

  test(&quot;abDir should return empty string&quot;, () =&gt; {
    const p = extPaths.abDir;

    expect(path.extname(p)).toBe(&quot;&quot;);
  });

  test(&quot;abDirSlash should return empty string&quot;, () =&gt; {
    const p = extPaths.abDirSlash;

    expect(path.extname(p)).toBe(&quot;&quot;);
  });

  test(&quot;file should return .js&quot;, () =&gt; {
    const p = extPaths.file;

    expect(path.extname(p)).toBe(&quot;.js&quot;);
  });

  test(&quot;oFile should return .js&quot;, () =&gt; {
    const p = extPaths.oFile;

    expect(path.extname(p)).toBe(&quot;.js&quot;);
  });

  test(&quot;mExtFile should return .js&quot;, () =&gt; {
    const p = extPaths.mExtFile;

    expect(path.extname(p)).toBe(&quot;.js&quot;);
  });

  test(&quot;abFile should return .js&quot;, () =&gt; {
    const p = extPaths.abFile;

    expect(path.extname(p)).toBe(&quot;.js&quot;);
  });

  test(&quot;oMExtFile should return .md&quot;, () =&gt; {
    const p = extPaths.oMExtFile;

    expect(path.extname(p)).toBe(&quot;.md&quot;);
  });

  test(&quot;unExtFile should return .&quot;, () =&gt; {
    const p = extPaths.unExtFile;

    expect(path.extname(p)).toBe(&quot;.&quot;);
  });

  test(&quot;oFileName should return empty string&quot;, () =&gt; {
    const p = extPaths.oFileName;

    expect(path.extname(p)).toBe(&quot;&quot;);
  });

  test(&quot;oExt should return empty string&quot;, () =&gt; {
    const p = extPaths.oExt;

    expect(path.extname(p)).toBe(&quot;&quot;);
  });

  test(&quot;oMExt should return .md&quot;, () =&gt; {
    const p = extPaths.oMExt;

    expect(path.extname(p)).toBe(&quot;.md&quot;);
  });
});

// parse 根据 path 返回一个对象
describe(&quot;parse should parse path and return an object&quot;, () =&gt; {
  test(&quot;parse a normal path string&quot;, () =&gt; {
    expect(path.parse(&quot;/foo/bar/baz.spec.js&quot;)).toEqual({
      root: &quot;/&quot;,
      dir: &quot;/foo/bar&quot;,
      base: &quot;baz.spec.js&quot;,
      name: &quot;baz.spec&quot;,
      ext: &quot;.js&quot;
    });
  });
});

// format 根据对象返回路径
describe(&quot;format should return a path from an object&quot;, () =&gt; {
  const oPaths = {
    root: &quot;/root&quot;,
    dir: &quot;/home/shanyuhai/Test/node&quot;,
    base: &quot;path.spec.js&quot;,
    name: &quot;path.spec&quot;,
    ext: &quot;.js&quot;
  };

  test(&quot;root &amp; base(root do not have platform separator)&quot;, () =&gt; {
    expect(path.format(pick(oPaths, [&quot;root&quot;, &quot;base&quot;]))).toBe(&quot;/rootpath.spec.js&quot;)
  });

  test(&quot;root &amp; name &amp; ext(ext should have .)&quot;, () =&gt; {
    expect(path.format(pick(oPaths, [&quot;root&quot;, &quot;name&quot;, &quot;ext&quot;]))).toBe(&quot;/rootpath.spec.js&quot;)
  });

  test(&quot;root will be ignored if dir is provided&quot;, () =&gt; {
    expect(path.format(pick(oPaths, [&quot;root&quot;, &quot;dir&quot;, &quot;base&quot;]))).toBe(&quot;/home/shanyuhai/Test/node/path.spec.js&quot;)
  });

  test(&quot;name &amp; ext will be ignored if base is provided&quot;, () =&gt; {
    expect(path.format(pick(oPaths, [&quot;root&quot;, &quot;dir&quot;, &quot;base&quot;, &quot;ext&quot;]))).toBe(&quot;/home/shanyuhai/Test/node/path.spec.js&quot;)
  });
});

// isAbsolute 检测 path 是否为绝对路径
describe(&quot;isAbsolute determines if path is an absolute path&quot;, () =&gt; {
  test(&quot;dir should return false&quot;, () =&gt; {
    const p = paths.dir;

    expect(path.isAbsolute(p)).toBeFalsy();
  });

  test(&quot;abDir should return true&quot;, () =&gt; {
    const p = paths.abDir;

    expect(path.isAbsolute(p)).toBeTruthy();
  });

  test(&quot;file should return false&quot;, () =&gt; {
    const p = paths.file;

    expect(path.isAbsolute(p)).toBeFalsy();
  });

  test(&quot;abFile should return true&quot;, () =&gt; {
    const p = paths.abFile;

    expect(path.isAbsolute(p)).toBeTruthy();
  });
});

// join 会将给定的路径片段利用界定符链接
describe(&quot;join will link the given path segment with the delimiter&quot;, () =&gt; {
  test(&quot;normal path segment will link with the delimiter&quot;, () =&gt; {
    expect(path.join(...segPath.nPath)).toBe(&quot;aaa/bbb/ccc&quot;);
  });

  test(&quot;absolute normal path segment will link with the delimiter&quot;, () =&gt; {
    expect(path.join(...segPath.abSPath)).toBe(&quot;/aaa/bbb/ccc&quot;);
  });

  test(&quot;absolute path segment in args do not effect&quot;, () =&gt; {
    expect(path.join(...segPath.abIPath)).toBe(&quot;aaa/bbb/ccc&quot;);
  });

  test(&quot;.. will back to the upper path level&quot;, () =&gt; {
    expect(path.join(...segPath.bPath)).toBe(&quot;aaa/ccc&quot;);
  });

  test(&quot;../.. will back to the upper two path level&quot;, () =&gt; {
    expect(path.join(...segPath.b2Path)).toBe(&quot;../ccc&quot;);
  });

  test(&quot;multiple formats mixed&quot;, () =&gt; {
    expect(path.join(...segPath.mPath)).toBe(&quot;foo/nnn/foo/bar/aaa&quot;);
  });
});

// resolve 解析路径或片段为绝对路径
describe(&quot;resolve will resolve a sequence of paths or path segments into an absolute path&quot;, () =&gt; {
  test(&quot;dir should return /home/shanyuhai/Test/node-demos/dir1/dir2/dir3&quot;, () =&gt; {
    const p = paths.dir;

    expect(path.resolve(p)).toBe(&quot;/home/shanyuhai/Test/node-demos/dir1/dir2/dir3&quot;);
  });

  test(&quot;abDirSlash should return /dir1/dir2/dir3&quot;, () =&gt; {
    const p = paths.abDirSlash;

    expect(path.resolve(p)).toBe(&quot;/dir1/dir2/dir3&quot;);
  });

  test(&quot;oFile should return /home/shanyuhai/Test/node-demos/file.js&quot;, () =&gt; {
    const p = paths.oFile;

    expect(path.resolve(p)).toBe(&quot;/home/shanyuhai/Test/node-demos/file.js&quot;);
  });

  test(&quot;absolute normal path segment will link with the delimiter&quot;, () =&gt; {
    expect(path.resolve(...segPath.abSPath)).toBe(&quot;/aaa/bbb/ccc&quot;);
  });

  test(&quot;if after processing all given path segments an absolute path has not yet been generated, the current working directory is used&quot;, () =&gt; {
    expect(path.resolve(...segPath.nPath)).toBe(&quot;/home/shanyuhai/Test/node-demos/aaa/bbb/ccc&quot;);
  });

  test(&quot;absolute path segment in args will replace before&quot;, () =&gt; {
    expect(path.resolve(...segPath.abIPath)).toBe(&quot;/bbb/ccc&quot;);
  });

  test(&quot;.. will back to the upper path level&quot;, () =&gt; {
    expect(path.resolve(...segPath.bPath)).toBe(&quot;/ccc&quot;);
  });

  test(&quot;../.. will back to the upper two path level&quot;, () =&gt; {
    expect(path.resolve(...segPath.b2Path)).toBe(&quot;/home/shanyuhai/Test/ccc&quot;);
  });

  test(&quot;multiple formats mixed&quot;, () =&gt; {
    expect(path.resolve(...segPath.mPath)).toBe(&quot;/nnn/foo/bar/aaa&quot;);
  });
});

// normalize 返回规范化的路径
describe(&quot;normalize should return the normalized path&quot;, () =&gt; {
  test(&quot;should return the normalized path and trailing separators are preserved&quot;, () =&gt; {
    expect(path.normalize(&quot;foo/bar//baz/asdf/quux/../&quot;)).toBe(&quot;foo/bar/baz/asdf/&quot;);
  });
});

// relative 返回 from 和 to 的相对路径
describe(&quot;relative should return the relative path from `from` to `to`&quot;, () =&gt; {
  test(&quot;absolute path&quot;, () =&gt; {
    expect(path.relative(&quot;/home/shanyuhai&quot;, &quot;/etc/zsh/zprofile&quot;)).toBe(&quot;../../etc/zsh/zprofile&quot;);
  });

  test(&quot;current path&quot;, () =&gt; {
    expect(path.relative(&quot;node_modules/jest/&quot;, &quot;node_modules/jest/bin/jest.js&quot;)).toBe(&quot;bin/jest.js&quot;);
  });

  // before compare they will be calling `path.resolve` on each, so they can get relative path
  test(&quot;absolute to relative&quot;, () =&gt; {
    expect(path.relative(&quot;/home/shanyuhai&quot;, &quot;node_modules/jest/bin/jest.js&quot;)).toBe(&quot;Test/node-demos/node_modules/jest/bin/jest.js&quot;);
  });
});

// sep 返回平台特定的路径片段分隔符
describe(&quot;sep should return the platform-specific path segment separator&quot;, () =&gt; {
  const paths = {
    &quot;/&quot;: &quot;foo/bar/baz&quot;,
    &quot;\\&quot;: &quot;foo\\bar\\baz&quot;
  }

  test(&quot;should return correct array&quot;, () =&gt; {
    const p = paths[path.sep]

    if (path.sep === &quot;/&quot;) {
      expect(p.split(path.sep)).toStrictEqual([&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]);
    }
    if (path.sep === &quot;\\&quot;) {
      expect(p.split(path.sep)).toStrictEqual([&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]);
    }
  });
});
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/documents/back-end/Node/npx.html" class="prev">
        NPX
      </a></span> <span class="next"><a href="/documents/back-end/Node/pnpm.html">
        pnpm
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/documents/assets/js/app.c707dd89.js" defer></script><script src="/documents/assets/js/2.3c62c32c.js" defer></script><script src="/documents/assets/js/21.640a6f3a.js" defer></script>
  </body>
</html>
